<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Generador de E-book Digital - Argentina & LATAM</title>

  <link rel="icon" type="image/png" href="./img/favicon.png" sizes="32x32">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600;700;800&display=swap" rel="stylesheet">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>

  <link rel="stylesheet" href="./css/pagina.css">
  <link rel="stylesheet" id="themeCSS" href="./css/argentina.css">
</head>

<body>
  <div class="bg">
    <div class="hex"></div>
    <canvas id="stars"></canvas>
  </div>

  <div class="wrap">
    <header id="mainHeader">
      <nav class="nav">
        <div class="brand">
          <div class="mark"></div>
          <div>
            <div class="name">GENERADOR</div>
            <span class="sub">E-books Digitales</span>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <div class="container">
        <!-- Hero Section -->
        <section class="hero-section">
          <h1>
            Generador de <span class="grad-primary">E-books Digitales</span>
          </h1>
          <p>
            Crea E-book Digital profesionales con dise√±o distintivo para Argentina y LATAM.
            Sistema optimizado con las mejores pr√°cticas editoriales.
          </p>
          <button class="prompt-btn" onclick="mostrarPrompt()">
            üìú Ver Prompt de Instrucciones
          </button>
        </section>

<!-- Selector de Modelo -->
<div class="model-selector">
  <div class="model-card active" data-model="argentina" onclick="seleccionarModelo('argentina')">
    <div class="model-flag">
      <div class="model-logo-frame model-logo-frame--arg">
        <img src="./img/logo-escencial.png" alt="Escencial" class="model-logo">
      </div>
    </div>
    <p>Escencial Argentina</p>
    <div class="model-colors">
      <span style="background: #22D9DF"></span>
      <span style="background: #0B4A6E"></span>
      <span style="background: #C1FF72"></span>
    </div>
  </div>
  
  <div class="model-card" data-model="latam" onclick="seleccionarModelo('latam')">
    <div class="model-flag">
      <div class="model-logo-frame model-logo-frame--lat">
        <img src="./img/logo-latam.png" alt="LATAM" class="model-logo">
      </div>
    </div>
    <p>Escencial Latam</p>
    <div class="model-colors">
      <span style="background: #E2B808"></span>
      <span style="background: #210D41"></span>
      <span style="background: #984A30"></span>
    </div>
  </div>
</div>



        <!-- Formulario -->
        <div class="form-wrapper">
          <form id="pdfForm" onsubmit="event.preventDefault();">
            
            <!-- T√≠tulo del E-book -->
            <div class="field-row">
              <label for="titulo">
                <span class="label-icon">üìñ</span>
                T√≠tulo del E-book Digital
              </label>
              <input 
                type="text" 
                id="titulo" 
                placeholder="Ej: Marketing Digital Avanzado"
                required
              />
            </div>

            <!-- Subt√≠tulo -->
            <div class="field-row">
              <label for="subtitulo">
                <span class="label-icon">üìù</span>
                Subt√≠tulo
              </label>
              <input 
                type="text" 
                id="subtitulo" 
                placeholder="Ej: Estrategias y T√°cticas para el √âxito"
              />
            </div>

            <!-- √çndice -->
            <div class="field-row">
              <label for="indice">
                <span class="label-icon">üìë</span>
                √çndice
                <span class="label-hint">Peg√° aqu√≠ el √≠ndice generado por Claude</span>
              </label>
              <textarea 
                id="indice" 
                rows="10" 
                placeholder="# √çNDICE

INTRODUCCI√ìN

CAP√çTULO 1: Fundamentos del Marketing Digital
1.1. Conceptos B√°sicos
1.2. Historia y Evoluci√≥n
..."
              ></textarea>
            </div>

            <!-- Contenido -->
            <div class="field-row">
              <label for="contenido">
                <span class="label-icon">üìÑ</span>
                Contenido del E-book Digital
                <span class="label-hint">Peg√° aqu√≠ el contenido completo del E-book</span>
              </label>
              <textarea 
                id="contenido" 
                rows="20" 
                placeholder="# CAP√çTULO 1: T√≠tulo del Cap√≠tulo

## 1.1 Subt√≠tulo

Contenido del cap√≠tulo con **texto en negrita** y texto normal.

### Subsecci√≥n

M√°s contenido..."
                required
              ></textarea>
            </div>

            <!-- Botones de Acci√≥n -->
            <div class="actions">
              <button type="button" class="btn btn-primary" id="previewBtn" onclick="previsualizarPDF()">
                üëÅÔ∏è Vista Previa
              </button>
              <button type="button" class="btn btn-secondary" id="downloadBtn" onclick="generarPDF()">
                ‚ú® Generar y Descargar PDF
              </button>
            </div>
          </form>
        </div>

      </div>
    </main>
  </div>

  <!-- Modal del Prompt -->
  <div id="promptModal" class="modal">
    <div class="modal-backdrop" onclick="cerrarPrompt()"></div>
    <div class="modal-content prompt-modal">
      <button class="modal-close" onclick="cerrarPrompt()">√ó</button>
      <h2>üìú Instrucciones para el Prompt</h2>
      
 <div class="prompt-box">
  <pre id="promptText"># Role: Senior Editorial Lead & Technical Content Architect

## ‚ö†Ô∏è REGLA DE ORO DE FORMATO (INVIOLABLE)
Toda la salida, sin excepci√≥n, debe estar contenida dentro de un √öNICO bloque de c√≥digo Markdown que inicie con ```markdown y finalice con ```. Est√° terminantemente prohibido escribir fuera de dicho bloque.

## ‚ö†Ô∏è PROTOCOLO DE GESTI√ìN DE VOLUMEN
1. **Evaluaci√≥n de Densidad:** Analiza el material proporcionado. Si la complejidad t√©cnica impide un desarrollo exhaustivo en un solo tomo, detente y emite exclusivamente este mensaje: "Este contenido es muy amplio, requiere una partici√≥n en 2 vol√∫menes. ¬øDeseas proceder con el Volumen 1?"
2. **√çndice Estructural:**
   - Si se procede con un solo volumen: El √≠ndice debe constar de 13 secciones exactas (Cap√≠tulos 1 al 12 + Secci√≥n 13: Glosario de T√©rminos).
   - El √≠ndice no debe incluir subsecciones decimales (ej. 1.1, 1.2). Solo t√≠tulos principales por cap√≠tulo.

## ‚ö†Ô∏è PROTOCOLO DE EJECUCI√ìN SECUENCIAL (FLUJO DE TRABAJO)
- **FASE 1 (Actual):** Env√≠a √∫nicamente el T√≠tulo, Subt√≠tulo e √çndice Maestro (13 secciones). No desarrolles contenido. Solicita confirmaci√≥n para iniciar el Cap√≠tulo 1 y 2.
- **FASE 2 (Iterativa):** Tras la aprobaci√≥n, desarrolla los cap√≠tulos en pares (1 y 2, luego 3 y 4, etc.). Debes detenerte y solicitar confirmaci√≥n expl√≠cita para generar el siguiente bloque de dos cap√≠tulos.
- **FASE FINAL:** La obra culmina con la secci√≥n 13 (Glosario de T√©rminos) presentada estrictamente en formato CSV.

## ‚ö†Ô∏è DIRECTRICES EDITORIALES Y DE ESTILO
- **Tono:** Estrictamente bibliogr√°fico, acad√©mico y t√©cnico. Evita cualquier matiz de tutor√≠a o manual de curso.
- **Voz:** Narrativa en tercera persona de car√°cter impersonal. Prohibido el uso de la primera persona ("nosotros", "veremos", "haremos"). 
- **Tablas T√©cnicas:** Todo dato comparativo o estructurado debe presentarse exclusivamente en formato CSV (Campo1,Campo2,Campo3) dentro del cuerpo del texto.
- **Exhaustividad:** Se exige una densidad terminol√≥gica m√°xima. No se permite la s√≠ntesis de conceptos; cada cap√≠tulo debe agotar la materia t√©cnica correspondiente.
- **Extensi√≥n:** La obra completa debe aspirar a una profundidad equivalente a 30,000 - 32,000 palabras, garantizando un desarrollo robusto de cada eje tem√°tico.

## ‚ö†Ô∏è VALIDACI√ìN DE ENTRADA
Si no se ha proporcionado material base o instrucciones tem√°ticas espec√≠ficas, tu √∫nica respuesta dentro del bloque de c√≥digo debe ser: "Por favor, adjunta el material base para elaborar el libro."</pre>
</div>

      <button class="btn btn-primary" id="copyBtn" onclick="copiarPrompt()">
        üìã Copiar Prompt
      </button>
    </div>
  </div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MODAL DE VISTA PREVIA - VERSI√ìN MEJORADA
     Reemplaza tu modal actual con este c√≥digo
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- Modal de Vista Previa -->
<div id="pdfPreviewModal" class="modal preview-modal">
  <div class="modal-backdrop" onclick="cerrarVistaPrevia()"></div>
  
  <div class="modal-content">
    <!-- Header del modal con t√≠tulo y bot√≥n cerrar -->
    <div class="modal-header">
      <h2>üìÑ Vista Previa del E-book Digital</h2>
      <button class="modal-close" onclick="cerrarVistaPrevia()" title="Cerrar (Esc)">√ó</button>
    </div>
    
    <!-- Spinner de carga -->
    <div id="loadingSpinner" class="loading-spinner">
      <div class="spinner"></div>
      <p>‚è≥ Generando tu E-book Digital...</p>
    </div>
    
    <!-- Contenedor del PDF -->
    <div id="pdfContainer" class="pdf-container">
      <iframe id="pdfFrame" title="Vista previa del PDF"></iframe>
    </div>
  </div>
</div>

  <script src="./js/app.js"></script>
</body>
</html>
